<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Painel de Operações - Pizzattolog</title>
  <script type="module" src="main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&amp;display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Open Sans', sans-serif;
      background: url('https://i.postimg.cc/FzJfb8Yz/fundo.png') no-repeat center center fixed;
      background-size: cover;
      padding-top: 100px;
      color: #222;
      backdrop-filter: blur(2px); /* suaviza fundo */
    }

    main {
      max-width: 1000px;
      margin: 100px auto 40px auto;
      background: rgba(255, 255, 255, 0.96);
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 12px 32px rgba(0,0,0,0.2);
    }

    nav {
      display: flex;
      background: rgba(0,0,0,0.8);
      color: white;
    }
    nav button {
      flex: 1;
      padding: 12px;
      background: transparent;
      border: none;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      color: white;
      transition: background 0.3s ease;
    }
    nav button.ativo, nav button:hover {
      background: #0d6efd;
    }
    .aba {
      display: none;
    }
    .aba.ativa {
      display: block;
    }

    /* GALERIA DIÁLOGOS */
    #galeriaDialogos {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
      gap: 16px;
      margin-top: 20px;
    }
    #galeriaDialogos img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.12);
    }
    /* Colaboradores - container grid */
    .colaboradores-container {
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .funcionario-card {
      background: rgba(255,255,255,0.95);
      border-radius: 16px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      padding: 20px;
      display: flex;
      align-items: center;
      gap: 16px;
      position: relative;
      transition: 0.3s ease;
    }
    .funcionario-card:hover {
      transform: translateY(-4px);
    }
    .funcionario-foto {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 50%;
      border: 3px solid #0d6efd;
    }
    .funcionario-info {
      display: flex;
      flex-direction: column;
    }
    .funcionario-nome {
      font-size: 18px;
      font-weight: 600;
      color: #333;
    }
    .funcionario-cargo {
      font-size: 15px;
      color: #555;
    }
    .funcionario-turno {
      font-size: 14px;
      color: #888;
    }
  .fab { /* Estilo genérico para FABs */
  position: fixed; /* Isso é crucial para eles flutuarem */
  bottom: 30px;
  background: #0d6efd;
  color: white;
  border: none;
  border-radius: 50%;
  width: 56px;
  height: 56px;
  font-size: 32px;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  z-index: 2000;
  display: none; /* ISTO É O QUE OS ESCONDE INICIALMENTE */
}
#btnAddColaborador {
  right: 30px;
}
#btnAddDialogo {
  right: 100px;
}
    /* Modal base */
    .modal {
      display: none;
      position: fixed; top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 3000;
      justify-content: center; /* Usa flex para centralizar */
      align-items: center; /* Usa flex para centralizar */
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 12px;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }
    .modal-content h3 {
      margin-bottom: 15px;
    }
    .modal-content input[type="text"],
    .modal-content input[type="password"],
    .modal-content input[type="file"],
    .modal-content select { /* Adicionado select para consistência */
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 15px;
    }
    .modal-content button {
      padding: 12px 18px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .modal-content .btn-cancelar {
      background: #6c757d;
      color: white;
      margin-right: 10px;
    }
    .modal-content .btn-cancelar:hover {
      background: #5a6268;
    }
    .modal-content .btn-salvar {
      background: #198754;
      color: white;
    }
    .modal-content .btn-salvar:hover {
      background: #146c43;
    }
    #msgErroSenha {
      color: red;
      display: none;
      margin-top: 10px;
      font-weight: 600;
    }
    /* Filtros */
    #pesquisaNomeColaboradores, #filtroTurnoColaboradores {
      margin-top: 20px;
      padding: 12px;
      width: 100%;
      max-width: 300px;
      font-size: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    @media (max-width: 768px) {
      .foto-card img {
        height: 180px;
      }
    }
    /* Estilos específicos do formulário de operações */
    .form-grid {
        display: grid;
        grid-template-columns: 1fr; /* Padrão mobile */
        gap: 20px;
        margin-top: 20px;
    }
    @media (min-width: 768px) {
        .form-grid {
            grid-template-columns: 1fr 1fr; /* Duas colunas em desktop */
        }
    }
    .form-grid label {
        display: block;
        margin-bottom: 5px;
        font-weight: 600;
        color: #444;
    }
    .form-grid input, .form-grid select {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 16px;
    }
    .form-grid button {
        width: 100%;
        padding: 15px;
        background: #0d6efd;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 18px;
        font-weight: 700;
        cursor: pointer;
        transition: background 0.3s ease;
        grid-column: 1 / -1; /* Ocupa todas as colunas no grid */
    }
    .form-grid button:hover {
        background: #0a58ca;
    }
    #campoOutro {
        display: none; /* Escondido por padrão */
    }
    .btn-excluir {
  position: absolute;
  top: 8px;
  right: 8px;
  background: red;
  color: white;
  border: none;
  border-radius: 50%;
  width: 28px;
  height: 28px;
  font-weight: bold;
  cursor: pointer;
}
  </style>
</head>
<body>
<nav>
  <button onclick="mostrarAba('operacoes', event)" class="ativo">Formulário</button>
  <button onclick="mostrarAba('colaboradores', event)">Colaboradores</button>
  <button onclick="mostrarAba('dialogos', event)">Diálogos de Segurança</button>
  <button onclick="mostrarAba('checklist', event)">Checklist</button>
  <button onclick="mostrarAba('indicadores', event)">Indicadores</button>
</nav>

<main>
  <div id="operacoes" class="aba ativa">
    <h2>FORMULÁRIO</h2>
    <form id="formulario-operacoes" name="formulario-operacoes">
      <div class="form-grid">
        <div class="coluna-esquerda">
          <label for="cte">CTE</label> <input type="text" id="cte" name="cte" required>
          <label for="destino_origem">Destino/Origem</label> <input type="text" id="destino_origem" name="destino_origem" required>
          <label for="placa">Placa da Carreta</label> <input type="text" id="placa" name="placa" required>
          <label for="motorista">Motorista</label> <input type="text" id="motorista" name="motorista" required>
          <label for="transportadora">Transportadora</label>
          <select id="transportadora" name="transportadora" required onchange="mostrarOutroCampo(this)">
            <option value="">Selecione</option>
            <option value="PIZZATTOLOG">PIZZATTOLOG</option>
            <option value="SULISTA">SULISTA</option>
            <option value="WESTROCK">WESTROCK</option>
            <option value="AXON">AXON</option>
            <option value="CF LOG TRANS">CF LOG TRANS</option>
            <option value="ATIVA">ATIVA</option>
            <option value="BRIX">BRIX</option>
            <option value="CF LOG">CF LOG</option>
            <option value="COOPERCARGA">COOPERCARGA</option>
            <option value="COSTA TEIXEIRA">COSTA TEIXEIRA</option>
            <option value="DAIFFER LOGISTICA">DAIFFER LOGISTICA</option>
            <option value="DALFER">DALFER</option>
            <option value="EAGLE">EAGLE</option>
            <option value="ESTRELA DO ORIENTE">ESTRELA DO ORIENTE</option>
            <option value="MCP">MCP</option>
            <option value="HORIZONTES/BR">HORIZONTES/BR</option>
            <option value="MODULAR">MODULAR</option>
            <option value="SOLISTICA">SOLISTICA</option>
            <option value="TRANSBEM">TRANSBEM</option>
            <option value="outro">Outros</option>
          </select>
          <div id="campoOutro">
            <label for="outraTransportadora">Digite o nome da Transportadora</label>
            <input type="text" id="outraTransportadora" name="outraTransportadora" placeholder="Digite aqui...">
          </div>
          <label for="pallets">Pallets</label> <input type="number" id="pallets" name="pallets" required>
          <label for="carga_descarga">Tipo de Operação</label>
          <select id="carga_descarga" name="carga_descarga" required>
            <option value="">Selecione</option>
            <option value="carga">Carga</option>
            <option value="descarga">Descarga</option>
          </select>
        </div>
        <div class="coluna-direita">
          <label for="agendamento">Agendamento</label> <input type="datetime-local" id="agendamento" name="agendamento" required>
          <label for="inicio">Início</label> <input type="datetime-local" id="inicio" name="inicio" required>
          <label for="chegada">Chegada</label> <input type="datetime-local" id="chegada" name="chegada" required>
          <label for="termino">Término</label> <input type="datetime-local" id="termino" name="termino" required>
        </div>
      </div>
      <button type="submit" id="btnEnviar">ENVIAR</button>
    </form>
  </div>

  <div id="colaboradores" class="aba">
    <h2>COLABORADORES</h2>
    <input id="pesquisaNomeColaboradores" placeholder="Pesquisar por nome">
    <select id="filtroTurnoColaboradores">
      <option value="">Todos os turnos</option>
      <option value="1º Turno">1º Turno</option>
      <option value="2º Turno">2º Turno</option>
      <option value="3º Turno">3º Turno</option>
    </select>
    <div id="lista-funcionarios" class="colaboradores-container"></div>
  </div>

  <div id="dialogos" class="aba">
    <h2>Diálogos de Segurança</h2>
    <div class="galeria" id="galeriaDialogos"></div>
  </div>

  <div id="checklist" class="aba">
    <h2>CHECKLIST</h2>
    <p>Conteúdo da aba "Checklist" em construção...</p>
  </div>

  <div id="indicadores" class="aba">
    <h2>Indicadores</h2>
    <div class="grafico-container">
      <canvas id="graficoTipo"></canvas>
    </div>
  </div>
  
</main>

<button class="fab" id="btnAddColaborador" title="Adicionar Colaborador">+</button>
<button class="fab" id="btnAddDialogo" title="Adicionar Foto de Diálogo">+</button>


<div class="modal" id="modalSenha">
  <div class="modal-content">
    <h3>Digite a senha para continuar</h3>
    <input type="password" id="inputSenha" placeholder="Senha" />
    <div style="text-align:right;">
      <button type="button" class="btn-cancelar" id="btnCancelarSenha">Cancelar</button>
      <button type="button" class="btn-salvar" id="btnConfirmarSenha">Confirmar</button>
    </div>
    <p id="msgErroSenha">Senha incorreta</p>
  </div>
</div>

<div class="modal" id="modalFormColaborador">
  <form id="formColaboradorModal" class="modal-content">
    <h3>Adicionar Colaborador</h3>
    <input type="text" name="nome" placeholder="Nome" required />
    <input type="text" name="cargo" placeholder="Cargo" required />
    <input type="text" name="turno" placeholder="Turno" required />
    <input type="file" name="foto" accept="image/png, image/jpeg" required />
    <div style="text-align:right;">
      <button type="button" class="btn-cancelar" id="btnCancelarFormColaborador">Cancelar</button>
      <button type="submit" class="btn-salvar">Salvar</button>
    </div>
  </form>
</div>

<div class="modal" id="modalFormDialogo">
  <div class="modal-content">
    <h3>Adicionar Foto de Diálogo</h3>
    <input type="file" id="inputFotoDialogo" accept="image/png, image/jpeg" />
    <div style="text-align:right; margin-top: 15px;">
      <button type="button" class="btn-cancelar" id="btnCancelarDialogo">Cancelar</button>
      <button type="button" class="btn-salvar" id="btnSalvarDialogo">Salvar</button>
    </div>
  </div>
</div>

<script>
</script>
</body>
</html>




